 <!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Signup | S-PaySecure</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">

<style>


body {
    margin: 0;
    padding: 0;
    height: 100vh;
    overflow: hidden;
    font-family: 'Orbitron', sans-serif;
    background: #000;
    color: #00ffbf;
}


#bg {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: repeating-linear-gradient(
        180deg,
        rgba(0,255,120,0.05) 0px,
        rgba(0,255,120,0.05) 2px,
        transparent 2px,
        transparent 4px
    );
    pointer-events: none;
    animation: bgMove 8s linear infinite;
}
@keyframes bgMove {
    from { background-position: 0 0; }
    to   { background-position: 0 400px; }
}


.particle {
    position: absolute;
    width: 3px;
    height: 3px;
    background: #00ffbf;
    opacity: 0.85;
    border-radius: 50%;
    animation: fall linear infinite;
}
@keyframes fall {
    from { transform: translateY(-10vh); }
    to   { transform: translateY(110vh); }
}


.center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 350px;
    text-align: center;
}


h2 {
    font-size: 40px;
    margin-bottom: 20px;
    color: #00ffbf;
    text-shadow: 0 0 20px #00ffbf;
    animation: glow 2s infinite alternate;
}
@keyframes glow {
    0% { text-shadow: 0 0 8px #00ffbf; }
    100% { text-shadow: 0 0 25px #00ffaa; }
}


.input {
    width: 100%;
    padding: 12px;
    margin: 12px 0;
    background: transparent;
    border: none;
    border-bottom: 2px solid #00ffbf;
    font-size: 18px;
    color: #00ffbf;
    outline: none;
    transition: 0.3s;
    letter-spacing: 1px;
}
.input:focus {
    border-color: #00ffaa;
    box-shadow: 0 0 15px #00ffaa;
    transform: scale(1.05);
}


.btn-hack {
    width: 100%;
    padding: 14px;
    font-size: 20px;
    font-weight: 700;
    background: transparent;
    color: #00ffbf;
    border: 2px solid #00ffbf;
    border-radius: 5px;
    letter-spacing: 2px;
    cursor: pointer;
    transition: 0.35s ease;
}

.btn-hack:hover {
    background: #00ffbf;
    color: #000;
    box-shadow: 0 0 25px #00ffbf;
    transform: translateY(-5px) scale(1.08);
}

.btn-hack:active { transform: scale(0.85); }


a {
    color: #00ffaa;
    text-decoration: none;
    transition: 0.3s;
}
a:hover {
    text-shadow: 0 0 12px #00ffaa;
    font-size: 18px;
}

</style>
</head>

<body>


<div id="bg"></div>


<script>
for (let i = 0; i < 60; i++) {
    let p = document.createElement('div');
    p.className = "particle";
    p.style.left = Math.random() * 100 + "vw";
    p.style.animationDuration = (4 + Math.random() * 6) + "s";
    document.body.appendChild(p);
}
</script>


<div class="center">
    <h2>SIGNUP</h2>

    <form id="signupForm">
        <input class="input" name="name" placeholder="Full Name" required>
        <input class="input" name="email" placeholder="Email" required>
        <input class="input" type="password" name="password" placeholder="Password (min 6)" required>

        <button class="btn-hack">CREATE</button>
    </form>

    <p style="margin-top: 15px;">
        <a href="/login">Already have an account? Login</a>
    </p>
</div>


<script>
document.getElementById('signupForm').addEventListener('submit', async (e)=>{
  e.preventDefault();

  const fd = new FormData(e.target); 
  const data = Object.fromEntries(fd.entries());

  const res = await fetch('/api/signup', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
  });

  const j = await res.json();
  if (!res.ok) 
      return alert(j.error || (j.errors && j.errors.map(x=>x.msg).join(',')) || 'Error');

  location.href = '/dashboard';
});
</script>

</body>
</html>
